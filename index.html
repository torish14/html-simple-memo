<!DOCTYPE html>
<html lang="ja">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>HTML 5 を使ったメモ帳</title>
</head>
<body>
	<h1>メモ帳</h1>
	<textarea name="40" id="memo" cols="40" rows="10"></textarea>
	<!-- <p id="message" style="display: none;">Saving...</p> -->
	<p>
		<!-- <input type="button" id="save" value="Save"> -->
		<input type="button" id="clear" value="Clear">
	</p>
	<script>
		// データの保存
		// localStorage.setItem('memo', 'value')
		// データの取得
		// localStorage.getItem('memo')
		// データの削除
		// localStorage.removeItem('memo')
		// データの全削除
		// localStorage.clear()

		// textarea に入力されたテキストが空の場合は警告する
		if(localStorage.getItem('memo') == '') {
			alert('メモがありません')
		}

		// textarea に入力されたテキストがあれば、それを表示する
		if(localStorage.getItem('memo') != '') {
			document.getElementById('memo').value = localStorage.getItem('memo')
		}

		// textarea に入力されたテキストを自動で保存する
		// 即時関数（関数を定義すると同時に実行する）
		// 参考: https://qiita.com/katsukii/items/cfe9fd968ba0db603b1e
		// (function autoSave(params) {
			// localStorage.setItem('memo', document.getElementById('memo').value)
			// Saving... を表示する
			// document.getElementById('message').style.display = 'block'
			// 1秒後に Saving... を非表示にする
			// setTimeout(function() {
				// document.getElementById('message').style.display = 'none'
			// }, 1000)
			// setTimeout(autoSave, 1000)
		// }())

		// save ボタンをクリックしたら textarea に入力されたテキストを保存する
		// document.getElementById('save').addEventListener('click', function() {
		// 	localStorage.setItem('memo', document.getElementById('memo').value)
		// 	console.log(localStorage.getItem('memo'))
		// })

		// clear ボタンをクリックしたら textarea に入力されたテキストを削除する
		document.getElementById('clear').addEventListener('click', function() {
			document.getElementById('memo').value = ''
			localStorage.removeItem('memo')
			console.log(localStorage.getItem('memo'))
		})
	</script>
</body>
</html>
